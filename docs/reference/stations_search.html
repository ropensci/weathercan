<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Search for stations by name or location — stations_search • weathercan</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Search for stations by name or location — stations_search" />

<meta property="og:description" content="Returns stations that match the name provided OR which are within dist
km of the location provided. This is designed to provide the user with
information with which to decide which station to then get weather data from." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">weathercan</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.7.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/weathercan.html">Getting Started</a>
</li>
<li>
  <a href="http://steffilazerte.github.io/Presentations/#weathercan">Presentations</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/index.html">All Articles</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Tutorials</li>
    <li>
      <a href="../articles/interpolate_data.html">Interpolating</a>
    </li>
    <li>
      <a href="../articles/articles/use_with_tidyverse.html">Using weathercan with the tidyverse</a>
    </li>
    <li>
      <a href="../articles/articles/mapping.html">Mapping weather data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Reference vignetts</li>
    <li>
      <a href="../articles/flags.html">Data flags</a>
    </li>
    <li>
      <a href="../articles/glossary.html">Glossary of units and measurements</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/weathercan">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search for stations by name or location</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/weathercan/blob/master/R/stations.R'><code>R/stations.R</code></a></small>
    <div class="hidden name"><code>stations_search.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Returns stations that match the name provided OR which are within <code>dist</code>
km of the location provided. This is designed to provide the user with
information with which to decide which station to then get weather data from.</p>
    
    </div>

    <pre class="usage"><span class='fu'>stations_search</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>coords</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dist</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"hour"</span>, <span class='st'>"day"</span>, <span class='st'>"month"</span>), <span class='kw'>stn</span> <span class='kw'>=</span> <span class='kw pkg'>weathercan</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/weathercan/topics/stations'>stations</a></span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>name</th>
      <td><p>Character. A vector of length 1 or more with text against which
to match. Will match station names that contain all components of
<code>name</code>, but they can be in different orders and separated by other
text.</p></td>
    </tr>
    <tr>
      <th>coords</th>
      <td><p>Numeric. A vector of length 2 with latitude and longitude of a
place to match against. Overrides <code>lat</code> and <code>lon</code> if also
provided.</p></td>
    </tr>
    <tr>
      <th>dist</th>
      <td><p>Numeric. Match all stations within this many kilometres of the
<code>coords</code>.</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>Character. Return only stations with data at these intervals.
Must be any of "hour", "day", "month".</p></td>
    </tr>
    <tr>
      <th>stn</th>
      <td><p>Data frame. The <code>stations</code> data frame to use. Will use the
one included in the package unless otherwise specified.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical. Include progress messages</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>Logical. Suppress all messages (including messages regarding
missing data, etc.)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a subset of the stations data frame which match the search
  parameters. If the search was by location, an extra column 'distance' shows
  the distance in kilometres from the location to the station. If no stations
  are found withing `dist`, the closest 10 stations are returned.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To search by coordinates, users must make sure they have the
 <code><a href='http://www.rdocumentation.org/packages/sp/topics/00sp'>sp</a></code> package installed.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>stations_search</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Kamloops"</span>)</div><div class='output co'>#&gt; # A tibble: 40 x 12
#&gt;    prov  station_name station_id climate_id WMO_id TC_id   lat   lon  elev
#&gt;    &lt;fct&gt; &lt;chr&gt;        &lt;fct&gt;      &lt;fct&gt;      &lt;fct&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 BC    KAMLOOPS     1274       1163779    &lt;NA&gt;   &lt;NA&gt;   50.7 -120.  379.
#&gt;  2 BC    KAMLOOPS     1274       1163779    &lt;NA&gt;   &lt;NA&gt;   50.7 -120.  379.
#&gt;  3 BC    KAMLOOPS A   1275       1163780    71887  YKA    50.7 -120.  345.
#&gt;  4 BC    KAMLOOPS A   1275       1163780    71887  YKA    50.7 -120.  345.
#&gt;  5 BC    KAMLOOPS A   1275       1163780    71887  YKA    50.7 -120.  345.
#&gt;  6 BC    KAMLOOPS A   51423      1163781    71887  YKA    50.7 -120.  345.
#&gt;  7 BC    KAMLOOPS A   51423      1163781    71887  YKA    50.7 -120.  345.
#&gt;  8 BC    KAMLOOPS AF… 1276       1163790    &lt;NA&gt;   &lt;NA&gt;   50.7 -120.  701 
#&gt;  9 BC    KAMLOOPS AF… 1276       1163790    &lt;NA&gt;   &lt;NA&gt;   50.7 -120.  701 
#&gt; 10 BC    KAMLOOPS AUT 42203      1163842    71741  ZKA    50.7 -120.  345 
#&gt; # ... with 30 more rows, and 3 more variables: interval &lt;chr&gt;, start &lt;int&gt;,
#&gt; #   end &lt;int&gt;</div><div class='input'><span class='fu'>stations_search</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Kamloops"</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"hour"</span>)</div><div class='output co'>#&gt; # A tibble: 3 x 12
#&gt;   prov  station_name station_id climate_id WMO_id TC_id   lat   lon  elev
#&gt;   &lt;fct&gt; &lt;chr&gt;        &lt;fct&gt;      &lt;fct&gt;      &lt;fct&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 BC    KAMLOOPS A   1275       1163780    71887  YKA    50.7 -120.  345.
#&gt; 2 BC    KAMLOOPS A   51423      1163781    71887  YKA    50.7 -120.  345.
#&gt; 3 BC    KAMLOOPS AUT 42203      1163842    71741  ZKA    50.7 -120.  345 
#&gt; # ... with 3 more variables: interval &lt;chr&gt;, start &lt;int&gt;, end &lt;int&gt;</div><div class='input'>
<span class='fu'>stations_search</span>(<span class='kw'>coords</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>53.915495</span>, -<span class='fl'>122.739379</span>))</div><div class='output co'>#&gt; # A tibble: 17 x 13
#&gt;    prov  station_name station_id climate_id WMO_id TC_id   lat   lon  elev
#&gt;    &lt;fct&gt; &lt;chr&gt;        &lt;fct&gt;      &lt;fct&gt;      &lt;fct&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 BC    PRINCE GEOR… 629        1096435    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  569.
#&gt;  2 BC    PRINCE GEOR… 629        1096435    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  569.
#&gt;  3 BC    PRINCE GEOR… 637        1096470    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  591.
#&gt;  4 BC    PRINCE GEOR… 637        1096470    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  591.
#&gt;  5 BC    PRINCE GEOR… 50169      1096454    &lt;NA&gt;   VPX    53.9 -123.  601 
#&gt;  6 BC    PRINCE GEOR… 50169      1096454    &lt;NA&gt;   VPX    53.9 -123.  601 
#&gt;  7 BC    PR GEORGE F… 634        1096460    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579.
#&gt;  8 BC    PR GEORGE F… 634        1096460    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579.
#&gt;  9 BC    PRINCE GEOR… 636        1096468    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579 
#&gt; 10 BC    PRINCE GEOR… 636        1096468    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579 
#&gt; 11 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 12 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 13 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 14 BC    PRINCE GEOR… 48248      1096453    71302  VXS    53.9 -123.  680 
#&gt; 15 BC    PRINCE GEOR… 48248      1096453    71302  VXS    53.9 -123.  680 
#&gt; 16 BC    PRINCE GEOR… 48370      1096439    71896  YXS    53.9 -123.  691 
#&gt; 17 BC    PRINCE GEOR… 48370      1096439    71896  YXS    53.9 -123.  691 
#&gt; # ... with 4 more variables: interval &lt;chr&gt;, start &lt;int&gt;, end &lt;int&gt;,
#&gt; #   distance &lt;dbl&gt;</div><div class='input'>
</div><div class='input'><span class='no'>loc</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>ggmap</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/ggmap/topics/geocode'>geocode</a></span>(<span class='st'>"Prince George, BC"</span>)</div><div class='output co'>#&gt; <span class='message'>Information from URL : http://maps.googleapis.com/maps/api/geocode/json?address=Prince%20George,%20BC&amp;sensor=false</span></div><div class='input'><span class='fu'>stations_search</span>(<span class='kw'>coords</span> <span class='kw'>=</span> <span class='no'>loc</span>[<span class='fu'>c</span>(<span class='st'>"lat"</span>, <span class='st'>"lon"</span>)])</div><div class='output co'>#&gt; # A tibble: 17 x 13
#&gt;    prov  station_name station_id climate_id WMO_id TC_id   lat   lon  elev
#&gt;    &lt;fct&gt; &lt;chr&gt;        &lt;fct&gt;      &lt;fct&gt;      &lt;fct&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 BC    PRINCE GEOR… 629        1096435    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  569.
#&gt;  2 BC    PRINCE GEOR… 629        1096435    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  569.
#&gt;  3 BC    PRINCE GEOR… 637        1096470    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  591.
#&gt;  4 BC    PRINCE GEOR… 637        1096470    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  591.
#&gt;  5 BC    PRINCE GEOR… 50169      1096454    &lt;NA&gt;   VPX    53.9 -123.  601 
#&gt;  6 BC    PRINCE GEOR… 50169      1096454    &lt;NA&gt;   VPX    53.9 -123.  601 
#&gt;  7 BC    PRINCE GEOR… 636        1096468    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579 
#&gt;  8 BC    PRINCE GEOR… 636        1096468    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579 
#&gt;  9 BC    PR GEORGE F… 634        1096460    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579.
#&gt; 10 BC    PR GEORGE F… 634        1096460    &lt;NA&gt;   &lt;NA&gt;   53.9 -123.  579.
#&gt; 11 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 12 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 13 BC    PRINCE GEOR… 631        1096450    71896  YXS    53.9 -123.  691.
#&gt; 14 BC    PRINCE GEOR… 48248      1096453    71302  VXS    53.9 -123.  680 
#&gt; 15 BC    PRINCE GEOR… 48248      1096453    71302  VXS    53.9 -123.  680 
#&gt; 16 BC    PRINCE GEOR… 48370      1096439    71896  YXS    53.9 -123.  691 
#&gt; 17 BC    PRINCE GEOR… 48370      1096439    71896  YXS    53.9 -123.  691 
#&gt; # ... with 4 more variables: interval &lt;chr&gt;, start &lt;int&gt;, end &lt;int&gt;,
#&gt; #   distance &lt;dbl&gt;</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Steffi LaZerte.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

