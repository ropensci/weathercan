<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Search for stations by name or location — stations_search • weathercan</title><!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for stations by name or location — stations_search"><meta name="description" content="Returns stations that match the name provided OR which are within dist
km of the location provided. This is designed to provide the user with
information with which to decide which station to then get weather data from."><meta property="og:description" content="Returns stations that match the name provided OR which are within dist
km of the location provided. This is designed to provide the user with
information with which to decide which station to then get weather data from."><meta property="og:image" content="https://docs.ropensci.org/weathercan/logo.png"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css"><script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">weathercan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../articles/weathercan.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/flags.html">Flags and codes</a></li>
    <li><a class="dropdown-item" href="../articles/glossary_normals.html">Climate Normals: Terms and Units</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Weather: Terms and Units</a></li>
    <li><a class="dropdown-item" href="../articles/interpolate_data.html">Interpolating</a></li>
    <li><a class="dropdown-item" href="../articles/normals.html">Climate Normals</a></li>
    <li><a class="dropdown-item" href="../articles/reproducibility.html">Reproducibility</a></li>
    <li><a class="dropdown-item" href="../articles/tidyhydat.html">weathercan and tidyhydat</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/weathercan/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Search for stations by name or location</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/weathercan/blob/dev/R/stations.R" class="external-link"><code>R/stations.R</code></a></small>
      <div class="d-none name"><code>stations_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns stations that match the name provided OR which are within <code>dist</code>
km of the location provided. This is designed to provide the user with
information with which to decide which station to then get weather data from.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stations_search</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dist <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hour"</span>, <span class="st">"day"</span>, <span class="st">"month"</span><span class="op">)</span>,</span>
<span>  normals_years <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  normals_only <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  starts_latest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ends_earliest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Character. A vector of length 1 or more with text against which
to match. Will match station names that contain all components of
<code>name</code>, but they can be in different orders and separated by other
text.</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>Numeric. A vector of length 2 with latitude and longitude of a
place to match against. Overrides <code>lat</code> and <code>lon</code> if also
provided.</p></dd>


<dt id="arg-dist">dist<a class="anchor" aria-label="anchor" href="#arg-dist"></a></dt>
<dd><p>Numeric. Match all stations within this many kilometres of the
<code>coords</code>.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>Character. Return only stations with data at these intervals.
Must be any of "hour", "day", "month".</p></dd>


<dt id="arg-normals-years">normals_years<a class="anchor" aria-label="anchor" href="#arg-normals-years"></a></dt>
<dd><p>Character. One of <code>NULL</code> (default), <code>current</code>,
<code>1991-2020</code>, <code>1981-2010</code>, or <code>1971-2000</code>. <code>current</code> returns only stations
from the most recent <em>complete</em> normals year range (i.e. <code>1981-2010</code>).
Default <code>NULL</code> does not filter by climate normals. Specific year ranges
return stations with normals in that period. See Details for more
specifics.</p></dd>


<dt id="arg-normals-only">normals_only<a class="anchor" aria-label="anchor" href="#arg-normals-only"></a></dt>
<dd><p>DEPRECATED. Logical. Return only stations with climate
normals?</p></dd>


<dt id="arg-stn">stn<a class="anchor" aria-label="anchor" href="#arg-stn"></a></dt>
<dd><p>DEFUNCT. Now use <code><a href="stations_dl.html">stations_dl()</a></code> to update internal data and
<code><a href="stations_meta.html">stations_meta()</a></code> to check the date it was last updated.</p></dd>


<dt id="arg-starts-latest">starts_latest<a class="anchor" aria-label="anchor" href="#arg-starts-latest"></a></dt>
<dd><p>Numeric. Restrict results to stations with data
collection beginning in or before the specified year.</p></dd>


<dt id="arg-ends-earliest">ends_earliest<a class="anchor" aria-label="anchor" href="#arg-ends-earliest"></a></dt>
<dd><p>Numeric. Restrict results to stations with data
collection ending in or after the specified year.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. Include progress messages</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Logical. Suppress all messages (including messages regarding
missing data, etc.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a subset of the stations data frame which match the search
parameters. If the search was by location, an extra column 'distance' shows
the distance in kilometres from the location to the station. If no stations
are found withing <code>dist</code>, the closest 10 stations are returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>To search by coordinates, users must make sure they have the
<a href="https://cran.r-project.org/package=sp" class="external-link">sp</a> package installed.</p>
<p>The <code>current</code>, most recent, climate normals year range is <code>1981-2010</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># check_eccc()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Kamloops"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Kamloops"</span>, interval <span class="op">=</span> <span class="st">"hour"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Ottawa"</span>, starts_latest <span class="op">=</span> <span class="fl">1950</span>, ends_earliest <span class="op">=</span> <span class="fl">2010</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Ottawa"</span>, normals_years <span class="op">=</span> <span class="st">"current"</span><span class="op">)</span>   <span class="co"># 1981-2010</span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Ottawa"</span>, normals_years <span class="op">=</span> <span class="st">"1981-2010"</span><span class="op">)</span> <span class="co"># Same as above</span></span></span>
<span class="r-in"><span><span class="fu">stations_search</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Ottawa"</span>, normals_years <span class="op">=</span> <span class="st">"1971-2000"</span><span class="op">)</span> <span class="co"># 1971-2010</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"sf"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">stations_search</span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">53.915495</span>, <span class="op">-</span><span class="fl">122.739379</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>





  </body></html>

